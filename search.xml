<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Vuex和Pinia</title>
    <url>/2023/09/18/Vuex%E5%92%8CPinia/</url>
    <content><![CDATA[<p>应用程序开发的状态管理模式，它采用集中式存储管理应用的所有组件状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<span id="more"></span>

<h2 id="Vuex-的使用"><a href="#Vuex-的使用" class="headerlink" title="Vuex 的使用"></a>Vuex 的使用</h2><h3 id="1-Vuex-的安装和注册"><a href="#1-Vuex-的安装和注册" class="headerlink" title="1.Vuex 的安装和注册"></a>1.Vuex 的安装和注册</h3><p>注意：vue 的 2.x 版本对应 vuex 的 3.x 版本，vue 的 3.x 版本对应 vuex 的 4.x 版本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save vuex@3.6.2</span><br></pre></td></tr></table></figure>

<p>在 src 目录下新建 store 文件夹，创建 index.js 文件引入、安装、创建并导出 Vuex 对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">import Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">//1.安装插件</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//2.创建对象</span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  state:&#123;</span><br><span class="line">    counter:1000</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations:&#123;&#125;,</span><br><span class="line">  actions:&#123;&#125;,</span><br><span class="line">  getters:&#123;&#125;,</span><br><span class="line">  modules:&#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line">//3.导出使用</span><br><span class="line"><span class="built_in">export</span> default store</span><br></pre></td></tr></table></figure>

<p>样例如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">import Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> default new Vuex.Store(&#123;</span><br><span class="line">  //设置全局访问的state对象  要设置的初始属性值</span><br><span class="line">  state: &#123;</span><br><span class="line">    username:localStorage.getItem(<span class="string">&quot;username&quot;</span>), //存储登录名</span><br><span class="line">    number:localStorage.getItem(<span class="string">&quot;number&quot;</span>),  //存储其他有关数据</span><br><span class="line">    Authorization: localStorage.getItem(<span class="string">&#x27;Authorization&#x27;</span>)  //存储登录需要用到的请求头token</span><br><span class="line">  &#125;,</span><br><span class="line">  //实时监听state值的变化（最新状态）</span><br><span class="line">  getters:&#123;</span><br><span class="line">    getusername(state)&#123;  //承载变化的对象（username）的值</span><br><span class="line">      <span class="built_in">return</span> state.username</span><br><span class="line">    &#125;,</span><br><span class="line">    getnumber(state)&#123;   //承载变化的对象（number）的值</span><br><span class="line">      <span class="built_in">return</span> state.number</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //要修改store中的值唯一的方法就是提交mutation来修改   同步操作</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    //自定义改变state初始值的方法，这里面的参数除了stae之外还可以再传额外的参数（变量或对象）</span><br><span class="line">    changeLogin (state, user) &#123;</span><br><span class="line">      state.Authorization = user.Authorization;</span><br><span class="line">      localStorage.setItem(<span class="string">&#x27;Authorization&#x27;</span>, user.Authorization);</span><br><span class="line">    &#125;,</span><br><span class="line">    setnumber(state,number)&#123;</span><br><span class="line">      state.number=number</span><br><span class="line">    &#125;,</span><br><span class="line">    setusername(state,username)&#123;</span><br><span class="line">      state.username=username</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //Action 类似于 mutation，不同在于：1.Action 提交的是 mutation，而不是直接变更状态。2.Action 可以包含任意异步操作。</span><br><span class="line">  actions: &#123;</span><br><span class="line">    getUser(context, username)&#123;</span><br><span class="line">      context.commit(<span class="string">&#x27;setusername&#x27;</span>,username)</span><br><span class="line">    &#125;,</span><br><span class="line">    //自定义触发mutations里函数的方法context与store实例具有相同方法和属性</span><br><span class="line">    getNumber(context, number)&#123;</span><br><span class="line">      context.commit(<span class="string">&#x27;setnumber&#x27;</span>,number)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在 main.js 文件中挂载使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import Vue from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">import App from <span class="string">&#x27;./App&#x27;</span></span><br><span class="line">import router from <span class="string">&#x27;./router&#x27;</span></span><br><span class="line">import store from <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">/* eslint-disable no-new */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: h =&gt; h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-Vuex-的基本使用"><a href="#2-Vuex-的基本使用" class="headerlink" title="2.Vuex 的基本使用"></a>2.Vuex 的基本使用</h3><p>1.getter 方法的调用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">this.<span class="variable">$store</span>.getters.resturantName</span><br></pre></td></tr></table></figure>

<p>state 状态存储是响应式的，从 store 实例中读取状态最简单的方法就是在计算属性中返回某个状态，如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  resturantName: <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> this.<span class="variable">$store</span>.getters.resturantName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.mutations 中方法的调用方式<br>不能直接调用 this.$store.mutations.setResturantName(‘KFC’)，必须使用如下方式调用：this.$store.commit(type,payload);</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 1、把载荷和<span class="built_in">type</span>分开提交</span><br><span class="line">this.<span class="variable">$store</span>.commit(<span class="string">&#x27;setResturantName&#x27;</span>,&#123;</span><br><span class="line">  resturantName:<span class="string">&#x27;KFC&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 2、载荷和<span class="built_in">type</span>写到一起</span><br><span class="line">this.<span class="variable">$store</span>.commit(&#123;</span><br><span class="line">  <span class="built_in">type</span>: <span class="string">&#x27;setResturantName&#x27;</span>,</span><br><span class="line">  resturantName: <span class="string">&#x27;KFC&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>3.actions 数据的静态异步(async)操作</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">this.<span class="variable">$store</span>.dispatch(<span class="string">&#x27;xxx&#x27;</span>,&#123;</span><br><span class="line">  name:<span class="string">&#x27;KFC&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Pinia-的使用"><a href="#Pinia-的使用" class="headerlink" title="Pinia 的使用"></a>Pinia 的使用</h2><h3 id="1-Pinia-的安装和注册"><a href="#1-Pinia-的安装和注册" class="headerlink" title="1.Pinia 的安装和注册"></a>1.Pinia 的安装和注册</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install pinia</span><br></pre></td></tr></table></figure>

<p>在 src 目录下新建 store 文件夹，创建 index.js 文件引入、安装、创建并导出 Pinia 对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; defineStore &#125; from <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line">//defineStore()：创建仓库容器的方法，主要有两个参数，第一个参数是容器的一个别名，</span><br><span class="line">//特点：此名字必须唯一，不能重复，第二个参数是配置信息即仓库的初始化数据和方法</span><br><span class="line"><span class="built_in">export</span> const indexStore = defineStore(<span class="string">&#x27;index&#x27;</span>, &#123;</span><br><span class="line">    state: ()=&gt;&#123;</span><br><span class="line">        <span class="built_in">return</span> &#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;&#125;,</span><br><span class="line">    actions: &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>样例如下：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; defineStore &#125; from <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line">// useMain  可以是 useUser、useCart 之类的名字</span><br><span class="line">// defineStore(<span class="string">&#x27;main&#x27;</span>,&#123;..&#125;) 在devtools 就使用 main 这个名</span><br><span class="line"><span class="built_in">export</span> const useMain = defineStore(<span class="string">&#x27;main&#x27;</span>, &#123;</span><br><span class="line">    // 相当于data</span><br><span class="line">    state: () =&gt; &#123;</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">          // 所有这些属性都将自动推断其类型,如果推断失败可以试下 as xxx</span><br><span class="line">          counter: 0,</span><br><span class="line">          name: <span class="string">&#x27;Eduardo&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 相当于计算属性</span><br><span class="line">    getters: &#123;</span><br><span class="line">        doubleCount: (state) =&gt; &#123;</span><br><span class="line">            <span class="built_in">return</span> state.counter * 2</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 相当于vuex的 mutation + action，可以同时写同步和异步的代码</span><br><span class="line">    actions: &#123;</span><br><span class="line">        <span class="function"><span class="title">increment</span></span>() &#123;</span><br><span class="line">          this.counter++</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">randomizeCounter</span></span>() &#123;</span><br><span class="line">            setTimeout(() =&gt; &#123;</span><br><span class="line">                this.counter = Math.round(<span class="number">100</span> * Math.random())</span><br><span class="line">            &#125;, 0);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在 main.js 文件中挂载使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; createApp &#125; from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">import App from <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line">import &#123;createPinia&#125; from <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line">const store = createPinia()</span><br><span class="line"></span><br><span class="line">createApp(App).use(ElementPlus).use(router).use(store).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2-Pinia-的基本使用"><a href="#2-Pinia-的基本使用" class="headerlink" title="2.Pinia 的基本使用"></a>2.Pinia 的基本使用</h3><p>1.获取数据</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h3&gt;&#123;&#123;store.helloWorld&#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;h3&gt;解构：&#123;&#123; helloWorld &#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span> setup&gt;</span><br><span class="line">import &#123; indexStore &#125; from <span class="string">&quot;../store&quot;</span></span><br><span class="line">import &#123; storeToRefs &#125; from <span class="string">&quot;pinia&quot;</span></span><br><span class="line">const store = indexStore()</span><br><span class="line">// 解构：</span><br><span class="line">const &#123; helloWorld &#125; = storeToRefs(store)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2.$patch 的两种方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span> setup&gt;</span><br><span class="line">import &#123; indexStore &#125; from <span class="string">&quot;../store&quot;</span>;</span><br><span class="line">const store = indexStore()</span><br><span class="line">// 方法一-直接改</span><br><span class="line">const update = () =&gt; &#123;</span><br><span class="line">  store.helloWorld = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">// 方法二-使用<span class="variable">$patch</span></span><br><span class="line">const handleClickPatch = () =&gt; &#123;</span><br><span class="line">  store.<span class="variable">$patch</span>(&#123;</span><br><span class="line">    helloWorld: <span class="string">&#x27;hello world patch&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">// 方法三-使用<span class="variable">$patch</span>回调函数</span><br><span class="line">const handleClickMethod = () =&gt; &#123;</span><br><span class="line">  store.<span class="variable">$patch</span>((state)=&gt;&#123;</span><br><span class="line">    state.helloWorld = &#x27;hello world  method&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>3.使用 actions，注意 actions 中的 this 指向，这里不能使用箭头函数<br>在&#x2F;store 中：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; defineStore &#125; from <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> const indexStore = defineStore(<span class="string">&#x27;main&#x27;</span>, &#123;</span><br><span class="line">    state: ()=&gt;&#123;</span><br><span class="line">        <span class="built_in">return</span> &#123;</span><br><span class="line">          helloWorld: <span class="string">&#x27;Hello world!&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;&#125;,</span><br><span class="line">    actions: &#123;</span><br><span class="line">      <span class="function"><span class="title">actionChange</span></span>() &#123;</span><br><span class="line">            this.helloWorld = <span class="string">&#x27;hello world actions&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在&#x2F;Hello 中：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span> setup&gt;</span><br><span class="line">import &#123; indexStore &#125; from <span class="string">&quot;../store&quot;</span>;</span><br><span class="line">const store = indexStore()</span><br><span class="line"></span><br><span class="line">const handleClickActions = () =&gt; &#123;</span><br><span class="line">  store.actionChange()</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>4.重置</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; indexStore &#125; from <span class="string">&quot;../store&quot;</span>;</span><br><span class="line">const store = indexStore()</span><br><span class="line">store.<span class="variable">$reset</span>()</span><br></pre></td></tr></table></figure>

<h3 id="3-Pinia-储存持久化"><a href="#3-Pinia-储存持久化" class="headerlink" title="3.Pinia 储存持久化"></a>3.Pinia 储存持久化</h3><h4 id="1-安装-pinia-plugin-persistedstate-插件"><a href="#1-安装-pinia-plugin-persistedstate-插件" class="headerlink" title="1.安装 pinia-plugin-persistedstate 插件"></a>1.安装 pinia-plugin-persistedstate 插件</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i pinia-plugin-persistedstate</span><br></pre></td></tr></table></figure>

<h4 id="2-安装完成后-在-main-ts-js-文件内进行配置"><a href="#2-安装完成后-在-main-ts-js-文件内进行配置" class="headerlink" title="2.安装完成后 在 main.ts&#x2F;js 文件内进行配置"></a>2.安装完成后 在 main.ts&#x2F;js 文件内进行配置</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; createApp &#125; from <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">import &#123; createPinia &#125; from <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line">import piniaPluginPersistedstate  from <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"></span><br><span class="line">import App from <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line">import router from <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&#x27;./assets/main.css&#x27;</span></span><br><span class="line"></span><br><span class="line">const app = createApp(App)</span><br><span class="line">const pinia = createPinia()</span><br><span class="line">pinia.use(piniaPluginPersistedstate)</span><br><span class="line">app.use(pinia)</span><br><span class="line">app.use(router)</span><br><span class="line">app.mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="3-store-里添加-persist-true，与-getters-同级"><a href="#3-store-里添加-persist-true，与-getters-同级" class="headerlink" title="3.store 里添加 persist: true，与 getters 同级"></a>3.store 里添加 persist: true，与 getters 同级</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">&#125;,</span><br><span class="line">// 相当于vuex的 mutation + action，可以同时写同步和异步的代码</span><br><span class="line">actions: &#123;</span><br><span class="line">&#125;,</span><br><span class="line">persist: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure>

<p><em>借鉴:<a href="https://blog.csdn.net/m0_67476502/article/details/124750596">Vuex</a>和<a href="https://zhuanlan.zhihu.com/p/575738777">Pinia</a></em></p>
]]></content>
  </entry>
  <entry>
    <title>CSS布局和transform笔记</title>
    <url>/2023/09/18/css%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>position 布局，transform 的基本使用和常用特效，display常用方法</p>
<span id="more"></span>

<h2 id="一-position"><a href="#一-position" class="headerlink" title="一.position"></a>一.position</h2><p>Position 的属性值有：<br>1.Absolute：绝对定位，是相对于最近的且不是 static 定位的父元素来定位<br>2.Fixed：绝对定位，是相对于浏览器窗口来定位的，是固定的，不会跟屏幕一起滚动。<br>3.Relative：相对定位，是相对于其原本的位置来定位的。<br>4.Static：默认值，没有定位。<br>5.Inherit：继承父元素的 position 值</p>
<h2 id="二-transform-的基本使用和常用特效"><a href="#二-transform-的基本使用和常用特效" class="headerlink" title="二.transform 的基本使用和常用特效"></a>二.transform 的基本使用和常用特效</h2><h3 id="1-平移"><a href="#1-平移" class="headerlink" title="1.平移"></a>1.平移</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/* x表示x轴移动的坐标，y表示y轴移动的坐标 */</span><br><span class="line">/* transform: translate(30px,30px); */</span><br><span class="line">/* x轴移动的坐标，y轴不变  */</span><br><span class="line">/* transform: translateX(30px); */</span><br><span class="line">/* y轴移动的坐标，x轴不变  */</span><br><span class="line">/* transform: translateY(30px); */</span><br><span class="line">/* 百分比参照的单位是自身的宽高，在这里也就是100px; */</span><br><span class="line">/* transform: translate(50%,50%); */</span><br></pre></td></tr></table></figure>

<h3 id="2-旋转"><a href="#2-旋转" class="headerlink" title="2.旋转"></a>2.旋转</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/* deg相当于度单位，表示旋转45度; */</span><br><span class="line">/* transform: rotate(45deg); */</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.first &#123;</span><br><span class="line">    margin: 50px auto;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">    border: 2px solid brown;</span><br><span class="line">    /*不要上边框和左边框后旋转45度即可*/</span><br><span class="line">    border-top: none;</span><br><span class="line">    border-left: none;</span><br><span class="line">    transform: rotate(45deg);</span><br><span class="line">    transition: transform 0.5s;  //设置transform动画效果时间</span><br><span class="line">    // transform-origin设置旋转中心点</span><br><span class="line">    /* transform-origin: bottom left; */</span><br><span class="line">    /* transform-origin: 50px 50px;  */</span><br><span class="line">&#125;</span><br><span class="line">.first:hover &#123;</span><br><span class="line">    transform: rotate(225deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-缩放"><a href="#3-缩放" class="headerlink" title="3.缩放"></a>3.缩放</h3><p>不会影响其他盒子</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/*  transition: transform 0.7s; //设置transform动画效果时间 */</span><br><span class="line">.first:hover &#123;</span><br><span class="line">    /* 表示xy的倍数，小于1的为缩小，大于1为放大 */</span><br><span class="line">    /* transform: scale(2,2); */</span><br><span class="line">    /* 也可以写成一个表示xy比例一样 */</span><br><span class="line">    /* transform: scale(2); */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-倾斜"><a href="#4-倾斜" class="headerlink" title="4.倾斜"></a>4.倾斜</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">transform:skew(30deg);</span><br><span class="line">transform:skew(30deg,30deg);</span><br><span class="line"><span class="comment"># 一个参数时：表示水平方向的倾斜角度。</span></span><br><span class="line"><span class="comment"># 两个参数时：第一个参数表示水平方向的倾斜角度，第二个参数表示垂直方向的倾斜角度 。</span></span><br><span class="line"><span class="comment"># skew 的默认原点 transform-origin 是这个物件的中心点。</span></span><br></pre></td></tr></table></figure>
<h3 id="5-transform-动画效果"><a href="#5-transform-动画效果" class="headerlink" title="5.transform 动画效果"></a>5.transform 动画效果</h3><p><a href="https://code84.com/727426.html">详情</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">transition: transform 0.2s ease-in-out;</span><br></pre></td></tr></table></figure>

<h2 id="三-transform-的基本使用和常用特效"><a href="#三-transform-的基本使用和常用特效" class="headerlink" title="三.transform 的基本使用和常用特效"></a>三.transform 的基本使用和常用特效</h2><p>1.animation：动画<br>2.*animation-name：关键帧的名字，该参数必需。<br>3.*animation-duration：动画持续的时间，该参数必需。<br>4.animation-timing-function：定时器函数，默认是ease。<br>5.animation-delay：动画效果多少秒后开始，默认为0。<br>6.animation-iteration-count：动画重复的次数，可以指定为一个整数，表示多少次，默认值是infinite关键字，表示无限次。<br>7.animation-direction：动画方向，可能的值为forward、backward或alternating，默认值为normal。<br>8.animation-fill-mode：默认值为none。<br>9.animation-play-state：动画默认是否生效，默认值为running。</p>
<h3 id="keyframes"><a href="#keyframes" class="headerlink" title="@keyframes"></a>@keyframes</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">@keyframes myname &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    top: 0px;</span><br><span class="line">  &#125;</span><br><span class="line">  25% &#123;</span><br><span class="line">    top: 200px;</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    top: 100px;</span><br><span class="line">  &#125;</span><br><span class="line">  75% &#123;</span><br><span class="line">    top: 200px;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    top: 0px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">keyframes rotation &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    transform: rotate(90deg);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(450deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="四-display常用方法"><a href="#四-display常用方法" class="headerlink" title="四.display常用方法"></a>四.display常用方法</h2><h3 id="1-flex布局"><a href="#1-flex布局" class="headerlink" title="1.flex布局"></a>1.flex布局</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">flex-direction: 决定主轴的方向(即项目的排列方向)</span><br><span class="line">  默认值：row，主轴为水平方向，起点在左端。</span><br><span class="line">  row-reverse：主轴为水平方向，起点在右端</span><br><span class="line">  column：主轴为垂直方向，起点在上沿</span><br><span class="line">  column-reverse：主轴为垂直方向，起点在下沿</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">flex-wrap: 决定容器内项目是否可换行</span><br><span class="line">  默认值：nowrap 不换行，即当主轴尺寸固定时，当空间不足时，项目尺寸会随之调整(变形)而并不会挤到下一行。</span><br><span class="line">  wrap：项目主轴总尺寸超出容器时换行，第一行在上方</span><br><span class="line">  wrap-reverse：换行，第一行在下方</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">justify-content：定义了项目在主轴的对齐方式。</span><br><span class="line">  默认值: flex-start 左对齐</span><br><span class="line">  flex-end：右对齐</span><br><span class="line">  center：居中</span><br><span class="line">  space-between：两端对齐，项目之间的间隔相等，即剩余空间等分成间隙。</span><br><span class="line">  space-around：每个项目两侧的间隔相等，所以项目之间的间隔比项目与边缘的间隔大一倍。(边0.5，间隔1)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">align-items: 定义了项目在交叉轴上的对齐方式</span><br><span class="line">  默认值为 stretch 即如果项目未设置高度或者设为 auto，将占满整个容器的高度。</span><br><span class="line">  flex-start：交叉轴的起点对齐</span><br><span class="line">  flex-end：交叉轴的终点对齐</span><br><span class="line">  center：交叉轴的中点对齐</span><br><span class="line">  baseline: 项目的第一行文字的基线对齐</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://zhuanlan.zhihu.com/p/611136271">查看更多</a></p>
]]></content>
  </entry>
  <entry>
    <title>Hexo 基本使用</title>
    <url>/2023/09/18/hexo/</url>
    <content><![CDATA[<p>Hexo是一款基于Node.js的静态博客框架,依赖少易于安装使用,可以方便的生成静态网页托管在GitHub和Coding上,是搭建博客的首选框架。</p>
<span id="more"></span>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>vue3异步组件</title>
    <url>/2023/09/18/vue3%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6/</url>
    <content><![CDATA[<p>在大型项目中，我们可能需要拆分应用为更小的块，并仅在需要时再从服务器加载相关组件。Vue 提供了 defineAsyncComponent 方法来实现此功能<br>异步组价打包时会分包</p>
<span id="more"></span>

<h2 id="场景一，按需引入"><a href="#场景一，按需引入" class="headerlink" title="场景一，按需引入"></a>场景一，按需引入</h2><p>下载包</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install @vueuse/core -S</span><br></pre></td></tr></table></figure>

<p>向下滑出现这个 C 组件才会加载 C 组件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=<span class="string">&quot;home&quot;</span>&gt;</span><br><span class="line">        &lt;A&gt;&lt;/A&gt;</span><br><span class="line">        &lt;B&gt;&lt;/B&gt;</span><br><span class="line">        &lt;div ref=<span class="string">&quot;target&quot;</span>&gt;</span><br><span class="line">            &lt;C v-if=<span class="string">&quot;targetIsVisible&quot;</span>&gt;&lt;/C&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line">import &#123; useIntersectionObserver &#125; from <span class="string">&#x27;@vueuse/core&#x27;</span></span><br><span class="line">import A from <span class="string">&#x27;./A.vue&#x27;</span></span><br><span class="line">import B from <span class="string">&#x27;./B.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">const C = defineAsyncComponent(() =&gt;</span><br><span class="line">    import(&#x27;./C.vue&#x27;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const target = ref(null)</span><br><span class="line">const targetIsVisible = ref(false)</span><br><span class="line"></span><br><span class="line">useIntersectionObserver(</span><br><span class="line">    target,</span><br><span class="line">    ([&#123; isIntersecting &#125;]: any) =&gt; &#123;</span><br><span class="line">        if (isIntersecting) &#123;</span><br><span class="line">            targetIsVisible.value = isIntersecting</span><br><span class="line">            console.log(isIntersecting);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="场景二-异步依赖，搭配-Suspense-使用"><a href="#场景二-异步依赖，搭配-Suspense-使用" class="headerlink" title="场景二 异步依赖，搭配 Suspense 使用"></a>场景二 异步依赖，搭配 Suspense 使用</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;Suspense&gt;</span><br><span class="line">    &lt;template <span class="comment">#default&gt;</span></span><br><span class="line">        &lt;A&gt;&lt;/A&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template <span class="comment">#fallback&gt;</span></span><br><span class="line">        加载中...</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/Suspense&gt;</span><br><span class="line"></span><br><span class="line">const A = defineAsyncComponent(() =&gt;</span><br><span class="line">    import(&#x27;./A.vue&#x27;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>一般是这种用法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div ref=<span class="string">&quot;target&quot;</span>&gt;</span><br><span class="line">    &lt;Suspense v-if=<span class="string">&quot;targetIsVisible&quot;</span>&gt;</span><br><span class="line">        &lt;template <span class="comment">#default&gt;</span></span><br><span class="line">            &lt;C&gt;&lt;/C&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;template <span class="comment">#fallback&gt;</span></span><br><span class="line">            加载中...</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">    &lt;/Suspense&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">import &#123; useIntersectionObserver &#125; from <span class="string">&#x27;@vueuse/core&#x27;</span></span><br><span class="line">const C = defineAsyncComponent(() =&gt;</span><br><span class="line">    import(&#x27;./C.vue&#x27;)</span><br><span class="line">)</span><br><span class="line">const target = ref(null)</span><br><span class="line">const targetIsVisible = ref(false)</span><br><span class="line">useIntersectionObserver(</span><br><span class="line">    target,</span><br><span class="line">    ([&#123; isIntersecting &#125;]: any) =&gt; &#123;</span><br><span class="line">        if (isIntersecting) &#123;</span><br><span class="line">            targetIsVisible.value = isIntersecting</span><br><span class="line">            console.log(isIntersecting);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a><em><a href="https://cn.vuejs.org/guide/components/async.html">官方文档</a></em></h4>]]></content>
  </entry>
  <entry>
    <title>js数据结构与算法</title>
    <url>/2023/09/18/js%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p>js基本数据类型,js中的Object, Array 的方法,栈数据结构，ES5 和 ES6 区别</p>
<span id="more"></span>

<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><h3 id="Array-的方法"><a href="#Array-的方法" class="headerlink" title="Array 的方法"></a>Array 的方法</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">arr.push() //数组末尾追加</span><br><span class="line">arr.pop()  //数组末尾删除一个，返回删除值</span><br><span class="line">arr.shift()</span><br><span class="line">arr.unshift()</span><br><span class="line">arr.splice(0,2) //删除数组前两个</span><br><span class="line">arr.slice(0,2) //选择数组前两个</span><br><span class="line">arr.splice(0,2,5) //数组前两个换成一个5</span><br><span class="line">arr.sort((x,y)=&gt;x-y)  //正序</span><br><span class="line">arr.sort((x,y)=&gt;y-x)  //倒序</span><br><span class="line">arr.sort((x,y)=&gt;y.age-x.age)</span><br><span class="line"></span><br><span class="line">let arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">let arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">arr1.concat(arr2)  //数组追加</span><br><span class="line">arr1.concat(arr2,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">//使用slice()方法返回一个子数组，在进行reverse； 不会改变原数组</span><br><span class="line">time1 = time.slice().reverse()  //time1数组反转  time数组不变</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [10,11,12,13]</span><br><span class="line"><span class="built_in">let</span> res1 = arr.every(item=&gt;item&gt;10)   //判断数组中每一个元素是否都大于10，返回<span class="literal">true</span>或<span class="literal">false</span></span><br><span class="line"><span class="built_in">let</span> res2 = arr.some(item=&gt;item&gt;10)    //判断数组中是否有一个元素大于10，返回<span class="literal">true</span>或<span class="literal">false</span></span><br><span class="line"><span class="built_in">let</span> res3 = arr.filter(item=&gt;item&gt;11)  //把符合条件的过滤出来</span><br><span class="line"><span class="built_in">let</span> res4 = arr.map(item=&gt;item+<span class="string">&quot;aaa&quot;</span>)  //数组每一项都加“aaa”</span><br><span class="line"><span class="built_in">let</span> res5 = arr.forEach((item,index)=&gt;&#123;</span><br><span class="line">    console.log(item,index)</span><br><span class="line">&#125;)</span><br><span class="line">let res6 = arr.reduce((item1,item2)=&gt;item1+item2)  //item1是上一次的，item是这一次的。这个实现的是数组累加</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Array.from()  //把类似数组结构的数据转换成数组</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [10,11,12,13]</span><br><span class="line">console.log(arr.indexOf(15))  //判断是否包含15，不包含返回-1，包含返回0</span><br><span class="line">console.log(arr.includes(15))  //判断是否包含15，不包含返回<span class="literal">false</span>，包含返回<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> res = arr.find(item=&gt;item&gt;10)  //返回数组中第一个符合条件的值</span><br><span class="line"><span class="built_in">let</span> res = arr.findIndex(item=&gt;item&gt;10)  //返回数组中第一个符合条件的值的索引值</span><br><span class="line"><span class="built_in">let</span> res = arr.findLast(item=&gt;item&gt;10)  //返回数组中最后一个符合条件的值</span><br><span class="line"><span class="built_in">let</span> res = arr.findLastIndex(item=&gt;item&gt;10)  //返回数组中最后一个符合条件的值的索引值</span><br></pre></td></tr></table></figure>

<h3 id="栈数据结构"><a href="#栈数据结构" class="headerlink" title="栈数据结构"></a>栈数据结构</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="详解-JS-中的-Object"><a href="#详解-JS-中的-Object" class="headerlink" title="详解 JS 中的 Object"></a>详解 JS 中的 Object</h2><h3 id="1-Object-构造函数的属性"><a href="#1-Object-构造函数的属性" class="headerlink" title="1.Object 构造函数的属性"></a>1.Object 构造函数的属性</h3><p>在 Object 中声明的属性只有两个：<br>Object.length —— 值为 1<br>Object.prototype —— 指向 Object 函数的原型对象</p>
<h3 id="2-静态方法"><a href="#2-静态方法" class="headerlink" title="2.静态方法"></a>2.静态方法</h3><h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h4><p>作用：将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。<br>简单来说，该方法可以接收多个参数，其中第一个参数作为目标对象，剩下的都是源对象。该方法将所有源对象的可枚举属性复制（浅复制）到目标对象中，结果返回目标对象。该方法会直接改变目标对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const target = &#123;name:<span class="string">&quot;test&quot;</span>,sex:1&#125;;</span><br><span class="line">const <span class="built_in">source</span> = &#123;address:<span class="string">&quot;sz&quot;</span>,gender:<span class="string">&quot;male&quot;</span>&#125;</span><br><span class="line">Object.assign(target,<span class="built_in">source</span>);</span><br><span class="line">console.log(target);//&#123;name: <span class="string">&quot;test&quot;</span>, sex: 1, address: <span class="string">&quot;sz&quot;</span>, gender: <span class="string">&quot;male&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">如果使用 ES6 的语法来实现这种需求就很简洁了：</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> target = &#123;name:<span class="string">&quot;test&quot;</span>,sex:1&#125;;</span><br><span class="line"><span class="built_in">let</span> <span class="built_in">source</span> = &#123;address:<span class="string">&quot;sz&quot;</span>,gender:<span class="string">&quot;male&quot;</span>&#125;</span><br><span class="line">target = &#123;...target,...<span class="built_in">source</span>&#125;</span><br></pre></td></tr></table></figure>

<p>…是 ES6 的展开运算符，展开运算符的写法与 obj2 &#x3D; obj1 直接赋值的写法的区别在于如果直接赋值的话，对于引用类型来说，相当于只是赋值了 obj1 的内存空间地址，当 obj2 发生改变的时候，obj1 也会随着发生改变。而是用展开运算符写法的话，由于 obj1 对象中的属性类型都是基本类型，相当于重新创建了一个对象，此时 obj2 发生改变的时候，并不会影响 obj1 这个对象。但是仅限于其属性都为基本类型的情况（或者说只进行了一层的深拷贝）。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> obj1 = &#123;</span><br><span class="line"> value1: 1,</span><br><span class="line"> value2: 2</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">let</span> obj2 = &#123;...obj1</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a href="https://www.jb51.net/javascript/285980s5x.html">ES5 和 ES6 区别</a></p>
<h4 id="Object-create-proto-propertiesObject"><a href="#Object-create-proto-propertiesObject" class="headerlink" title="Object.create(proto,propertiesObject)"></a>Object.create(proto,propertiesObject)</h4><p>该方法用于创建新对象。第一个参数用于指定新建对象的原型对象；第二个参数是对象的属性描述对象。方法返回新建的对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Person</span></span>() &#123;&#125;</span><br><span class="line">Person.prototype.hello = <span class="function"><span class="title">function</span></span> ()&#123;</span><br><span class="line">    console.log(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">let</span> person = Object.create(Person.prototype,&#123;</span><br><span class="line">    name:&#123;</span><br><span class="line">        value:<span class="string">&quot;test&quot;</span>,</span><br><span class="line">        writable:<span class="literal">true</span>,</span><br><span class="line">        configurable:<span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    age:&#123;</span><br><span class="line">        value:1,</span><br><span class="line">        writable:<span class="literal">true</span>,</span><br><span class="line">        configurable:<span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">console.log(person)//Person &#123;name: <span class="string">&quot;test&quot;</span>, age: 1&#125;</span><br><span class="line">person.hello()//hello</span><br></pre></td></tr></table></figure>

<h4 id="Object-defineProperty-obj-prop-desc"><a href="#Object-defineProperty-obj-prop-desc" class="headerlink" title="Object.defineProperty(obj,prop,desc)"></a>Object.defineProperty(obj,prop,desc)</h4><p>在对象 obj 上定义新的属性，或者修改对象 obj 中的属性，结果返回对象 obj。第一个参数 obj 是目标对象，第二个参数 prop 是属性键名，第三个参数是这个属性的描述符。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;&#125;</span><br><span class="line">Object.defineProperty(person,<span class="string">&quot;name&quot;</span>,&#123;</span><br><span class="line">    value : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">    //value —— 该属性的值，默认值为 undefined</span><br><span class="line">    writable : <span class="literal">true</span>,</span><br><span class="line">    //writable —— 布尔值，默认值为 <span class="literal">false</span>，表示是否能重写。</span><br><span class="line">    enumerable : <span class="literal">true</span>,</span><br><span class="line">    //enumerable —— 布尔值，默认值为 <span class="literal">false</span>。表示是否能枚举</span><br><span class="line">    configurable : <span class="literal">true</span></span><br><span class="line">    //configurable —— 布尔值，默认值为 <span class="literal">false</span> 。若值为 <span class="literal">true</span>，则表示这个属性描述符可以被改变，同时该属性也能从对象上删除。</span><br><span class="line"></span><br><span class="line">    //get:<span class="keyword">function</span> —— 默认值为 undefined，当访问该属性时，该方法会被执行。</span><br><span class="line">    //set:<span class="keyword">function</span> —— 默认值为 undefined，当属性修改时，触发执行改方法，该方法接收一个参数，就是该属性新的值。</span><br><span class="line">&#125;)</span><br><span class="line">console.log(person)//&#123;name: <span class="string">&quot;test&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Object-entries-obj"><a href="#Object-entries-obj" class="headerlink" title="Object.entries(obj)"></a>Object.entries(obj)</h4><p>该方法返回对象 obj 自身的可枚举属性的键值对数组。结果是一个二维数组，数组中的元素是一个由两个元素 key ，value 组成的数组。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;name:<span class="string">&quot;test&quot;</span>,sex:1&#125;</span><br><span class="line"><span class="built_in">let</span> arr = Object.entries(person)</span><br><span class="line">console.log(arr)//[[<span class="string">&quot;name&quot;</span>, <span class="string">&quot;test&quot;</span>],[<span class="string">&quot;sex&quot;</span>, 1]]</span><br></pre></td></tr></table></figure>

<p>该方法的使用场景是：将普通的对象转换为 Map：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;name:<span class="string">&quot;test&quot;</span>,sex:1&#125;</span><br><span class="line"><span class="built_in">let</span> map = new Map(Object.entries(person))</span><br><span class="line">console.log(map)//Map(2) &#123;<span class="string">&quot;name&quot;</span> =&gt; <span class="string">&quot;test&quot;</span>, <span class="string">&quot;sex&quot;</span> =&gt; 1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Object-freeze-obj"><a href="#Object-freeze-obj" class="headerlink" title="Object.freeze(obj)"></a>Object.freeze(obj)</h4><p>该方法用于冻结对象，一个被冻结的对象不能被修改，不能添加新的属性，不能修改属性的描述符，该对象的原型对象也不能修改。返回值为被冻结的对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;name:<span class="string">&quot;test&quot;</span>,sex:1&#125;</span><br><span class="line">Object.freeze(person)</span><br><span class="line">person.address = <span class="string">&quot;sz&quot;</span></span><br><span class="line">person.sex= 2</span><br><span class="line">console.log(person)//&#123;name: <span class="string">&quot;test&quot;</span>, sex: 1&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Object-getPrototypeOf-obj"><a href="#Object-getPrototypeOf-obj" class="headerlink" title="Object.getPrototypeOf(obj)"></a>Object.getPrototypeOf(obj)</h4><p>该方法返回指定对象的原型对象。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">Person</span></span>() &#123;&#125;</span><br><span class="line">Person.prototype.hello = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">    console.log(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">let</span> person = new Person()</span><br><span class="line"><span class="built_in">let</span> proto = Object.getPrototypeOf(person)</span><br><span class="line">proto.hello()//hello</span><br></pre></td></tr></table></figure>
<h4 id="Object-is-obj1-obj2"><a href="#Object-is-obj1-obj2" class="headerlink" title="Object.is(obj1,obj2)"></a>Object.is(obj1,obj2)</h4><p>该方法用于比较两个对象是否相同，返回布尔值。</p>
<h4 id="Object-getOwnPropertyDescriptor-obj-prop"><a href="#Object-getOwnPropertyDescriptor-obj-prop" class="headerlink" title="Object.getOwnPropertyDescriptor(obj,prop)"></a>Object.getOwnPropertyDescriptor(obj,prop)</h4><p>该方法用于返回指定对象上自有属性对应的属性描述符。</p>
<h4 id="Object-getOwnPropertySymbols-obj"><a href="#Object-getOwnPropertySymbols-obj" class="headerlink" title="Object.getOwnPropertySymbols(obj)"></a>Object.getOwnPropertySymbols(obj)</h4><p>该方法返回一个指定对象自身所有的 Symbol 键名的属性的数组。</p>
<p><a href="https://blog.csdn.net/local_752/article/details/125640843">参考</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>vue3+vite+ts项目笔记</title>
    <url>/2023/09/18/vue3%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>包括搭建项目，父子组件传值，兄弟组件传值，插槽，Teleport 组件，依赖注入</p>
<span id="more"></span>

<h4 id="搭建项目-点击"><a href="#搭建项目-点击" class="headerlink" title="搭建项目: 点击"></a>搭建项目: <a href="https://blog.csdn.net/weixin_59916662/article/details/127331094">点击</a></h4><h2 id="数据代理"><a href="#数据代理" class="headerlink" title="数据代理"></a>数据代理</h2><p>vue2.x : Object.defineProperty()<br>vue3.x : Proxy</p>
<h2 id="父子组件传值"><a href="#父子组件传值" class="headerlink" title="父子组件传值"></a>父子组件传值</h2><h3 id="1-父传子"><a href="#1-父传子" class="headerlink" title="1.父传子"></a>1.父传子</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;父组件</span><br><span class="line">  &lt;list :msg=<span class="string">&quot;msg&quot;</span>&gt;&lt;/list&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> msg = ref(<span class="string">&#x27;传过去的&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;这是子组件&#123;&#123;msg&#125;&#125;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">defineProps(&#123;</span><br><span class="line">    msg:&#123;</span><br><span class="line">        <span class="built_in">type</span>:String,</span><br><span class="line">        default:<span class="string">&quot;默认值&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-子传父"><a href="#2-子传父" class="headerlink" title="2.子传父"></a>2.子传父</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;这是子组件&#123;&#123;msg&#125;&#125;</span><br><span class="line">  &lt;button @click=<span class="string">&quot;changeNum&quot;</span>&gt;按钮&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> num = ref(200)</span><br><span class="line">// const emit = defineEmits([<span class="string">&#x27;fn&#x27;</span>])</span><br><span class="line">const emit = defineEmits&lt;&#123;</span><br><span class="line">    (e:<span class="string">&quot;fn&quot;</span>, <span class="built_in">id</span>: number): void</span><br><span class="line">&#125;&gt;()</span><br><span class="line">const changeNum = ()=&gt;&#123;</span><br><span class="line">    emit(<span class="string">&quot;fn&quot;</span>,num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;父组件</span><br><span class="line">  &lt;list @fn=<span class="string">&#x27;changeHome&#x27;</span>&gt;&lt;/list&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> changeHome = (n)=&gt;&#123;</span><br><span class="line">    console.log(n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-v-model-传值"><a href="#3-v-model-传值" class="headerlink" title="3.v-model 传值"></a>3.v-model 传值</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;父组件</span><br><span class="line">  &lt;list v-model:num = <span class="string">&quot;num&quot;</span>&gt;&lt;/list&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> num = ref(1)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;这是子组件&#123;&#123;num&#125;&#125;</span><br><span class="line">  &lt;button @click=<span class="string">&quot;btn&quot;</span>&gt;按钮&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">const props = refineProps(&#123;</span><br><span class="line">    num:&#123;</span><br><span class="line">        <span class="built_in">type</span>:Number,</span><br><span class="line">        default:100</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">const emit = defineEmits([<span class="string">&#x27;update:num&#x27;</span>])</span><br><span class="line">const btn = ()=&gt;&#123;</span><br><span class="line">    emit(<span class="string">&#x27;update:num&#x27;</span>,200)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="兄弟组件传值"><a href="#兄弟组件传值" class="headerlink" title="兄弟组件传值"></a>兄弟组件传值</h2><h3 id="1-通过父组件比较繁琐"><a href="#1-通过父组件比较繁琐" class="headerlink" title="1.通过父组件比较繁琐"></a>1.通过父组件比较繁琐</h3><h3 id="2-通过-mitt"><a href="#2-通过-mitt" class="headerlink" title="2.通过 mitt"></a>2.通过 mitt</h3><h4 id="1）-下载安装"><a href="#1）-下载安装" class="headerlink" title="1）.下载安装"></a>1）.下载安装</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install mitt -S</span><br></pre></td></tr></table></figure>

<h4 id="2）-新建文件夹"><a href="#2）-新建文件夹" class="headerlink" title="2）.新建文件夹"></a>2）.新建文件夹</h4><p>src&#x2F;plugins&#x2F;Bus.js</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//bus.js内</span><br><span class="line">import mitt from <span class="string">&#x27;mitt&#x27;</span>;</span><br><span class="line">const emitter = mitt()</span><br><span class="line"><span class="built_in">export</span> default emitter;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//兄弟组件A中</span><br><span class="line">import emitter from <span class="string">&quot;@plugins/Bus.js&quot;</span></span><br><span class="line"><span class="built_in">let</span> str = ref(<span class="string">&quot;A值&quot;</span>)</span><br><span class="line">const btn = ()=&gt;&#123;</span><br><span class="line">    emitter.emit(<span class="string">&#x27;fn&#x27;</span>,str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//兄弟组件B中 接收</span><br><span class="line">import emitter from <span class="string">&quot;@plugins/Bus.js&quot;</span></span><br><span class="line"><span class="built_in">let</span> s = ref(<span class="string">&quot;&quot;</span>)</span><br><span class="line">const btn = ()=&gt;&#123;</span><br><span class="line">    emitter.on(<span class="string">&#x27;fn&#x27;</span>,e=&gt;&#123;</span><br><span class="line">        s.value = e.value;</span><br><span class="line">        console.log(e.value)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><h3 id="1-匿名插槽"><a href="#1-匿名插槽" class="headerlink" title="1.匿名插槽"></a>1.匿名插槽</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">父：</span><br><span class="line">&lt;A&gt;</span><br><span class="line">    这是xxx数据</span><br><span class="line">    这是yyy数据</span><br><span class="line">&lt;/A&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">子：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;头部&lt;/div&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;底部&lt;/div&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-具名插槽"><a href="#2-具名插槽" class="headerlink" title="2.具名插槽"></a>2.具名插槽</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">父：</span><br><span class="line">&lt;A&gt;</span><br><span class="line">    &lt;template v-slot:xxx&gt;</span><br><span class="line">        这是xxx数据</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">    &lt;template <span class="comment">#yyy&gt;</span></span><br><span class="line">        这是yyy数据</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/A&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">子：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;头部&lt;/div&gt;</span><br><span class="line">    &lt;slot name=<span class="string">&quot;xxx&quot;</span>&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;底部&lt;/div&gt;</span><br><span class="line">    &lt;slot name=<span class="string">&quot;yyy&quot;</span>&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-作用域插槽"><a href="#3-作用域插槽" class="headerlink" title="3.作用域插槽"></a>3.作用域插槽</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">父：</span><br><span class="line">&lt;template v-slot=<span class="string">&quot;&#123;data&#125;&quot;</span>&gt;</span><br><span class="line">    &#123;&#123; data.name &#125;&#125;---&#123;&#123; data.age &#125;&#125;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">//可以简写成<span class="comment">#default</span></span><br><span class="line">&lt;template <span class="comment">#default=&quot;&#123;data&#125;&quot;&gt;</span></span><br><span class="line">    &#123;&#123; data.name &#125;&#125;---&#123;&#123; data.age &#125;&#125;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">子：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;slot :data=<span class="string">&quot;item&quot;</span>&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-动态插槽"><a href="#4-动态插槽" class="headerlink" title="4.动态插槽"></a>4.动态插槽</h3><p>就是通过数据动态切换插槽名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">父：</span><br><span class="line">&lt;template <span class="comment">#[name]&gt;</span></span><br><span class="line">    这是xxx</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="built_in">let</span> name = ref(<span class="string">&#x27;xxx&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">子：</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;slot name=<span class="string">&quot;xxx&quot;</span>&gt;&lt;/slot&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Teleport-组件"><a href="#Teleport-组件" class="headerlink" title="Teleport 组件"></a>Teleport 组件</h2><p>传送</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;Teleport to=<span class="string">&quot;body&quot;</span>&gt;&lt;/Teleport&gt;</span><br><span class="line">&lt;Teleport to=<span class="string">&quot;.mian&quot;</span>&gt;&lt;/Teleport&gt;</span><br><span class="line">&lt;Teleport to=<span class="string">&quot;#container&quot;</span>&gt;&lt;/Teleport&gt;</span><br></pre></td></tr></table></figure>

<h2 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//父组件：提供</span><br><span class="line">provide(/* 注入名 */ <span class="string">&#x27;message&#x27;</span>, /* 值 */ <span class="string">&#x27;hello!&#x27;</span>)</span><br><span class="line">//如果你想确保提供的数据不能被注入方的组件更改，你可以使用 <span class="built_in">readonly</span>() 来包装提供的值</span><br><span class="line">provide(<span class="string">&#x27;read-only-message&#x27;</span>, <span class="built_in">readonly</span>(message))</span><br><span class="line"></span><br><span class="line">//子孙组件：注入</span><br><span class="line">const message = inject(<span class="string">&#x27;message&#x27;</span>)</span><br></pre></td></tr></table></figure>


<h2 id="js-数组"><a href="#js-数组" class="headerlink" title="js 数组"></a>js 数组</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//使用slice()方法返回一个子数组，在进行reverse； 不会改变原数组</span><br><span class="line">time1 = time.slice().reverse()  //time1数组反转  time数组不变</span><br></pre></td></tr></table></figure>
<h2 id="js-取整"><a href="#js-取整" class="headerlink" title="js 取整"></a>js 取整</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">parseInt()   //向0取整</span><br><span class="line">Math.floor()  //向下取整</span><br><span class="line">Math.ceil()  //向上取整</span><br><span class="line">Math.trunc()  //去除数字的小数部分，保留整数部分</span><br><span class="line">Math.round()  //返回一个数字四舍五入后的整数部分</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>图片处理</title>
    <url>/2023/09/18/%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/</url>
    <content><![CDATA[<p>图片上传前压缩，图片懒加载</p>
<span id="more"></span>

<h3 id="图片上传前压缩"><a href="#图片上传前压缩" class="headerlink" title="图片上传前压缩"></a>图片上传前压缩</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//当图片大于500k时</span><br><span class="line"> <span class="keyword">if</span> (file2.size / 1024 &gt; 500)&#123; </span><br><span class="line">   imgFile = await blobToBase64(file, file.name);</span><br><span class="line"> &#125;</span><br><span class="line"> const blobToBase64 = async (blob: any, fileName: any) =&gt; &#123;</span><br><span class="line">    const reader = await new FileReader(); // 实例化一个reader文件</span><br><span class="line">    await reader.readAsDataURL(blob); // 添加二进制文件</span><br><span class="line">    <span class="built_in">return</span> new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        reader.onload = async (event: any) =&gt; &#123;</span><br><span class="line">            const base64 = await event.target.result; // 获取到它的base64文件</span><br><span class="line">            const scale = <span class="number">0.6</span>; // 设置缩放比例 （<span class="number">0</span>-<span class="number">1</span>）</span><br><span class="line">            let file = await compressImg(base64, scale, fileName);</span><br><span class="line">            resolve(file);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">// 压缩大小</span><br><span class="line">const compressImg = (base64: any, scale: any, fileName: any) =&gt; &#123;</span><br><span class="line">    // 处理缩放，转换格式</span><br><span class="line">    // 用canvas来压缩</span><br><span class="line">    const img = new Image();</span><br><span class="line">    img.src = base64;</span><br><span class="line">    return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">        img.onload = async () =&gt; &#123;</span><br><span class="line">            const canvas: any = document.createElement(&#x27;canvas&#x27;);</span><br><span class="line">            const ctx = canvas.getContext(&#x27;<span class="number">2</span>d&#x27;);</span><br><span class="line">            canvas.setAttribute(&#x27;width&#x27;, img.width * scale);</span><br><span class="line">            canvas.setAttribute(&#x27;height&#x27;, img.height * scale);</span><br><span class="line">            ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">            ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">            // 转成base64 文件</span><br><span class="line">            base64 = canvas.toDataURL(&#x27;image/jpeg&#x27;, <span class="number">0.8</span>); //<span class="number">0</span>到<span class="number">1</span>之间的取值，主要用来选定图片的质量，默认值是<span class="number">0.92</span>，超出范围也会选择默认值</span><br><span class="line">            const arr = base64.split(&#x27;,&#x27;);</span><br><span class="line">            const mime = arr[<span class="number">0</span>].match(/:(.*?);/)[<span class="number">1</span>];</span><br><span class="line">            const bytes = atob(arr[<span class="number">1</span>]);</span><br><span class="line">            const bytesLength = bytes.length;</span><br><span class="line">            const u8arr = new Uint8Array(bytesLength);</span><br><span class="line">            for (let i = <span class="number">0</span>; i &lt; bytes.length; i++) &#123;</span><br><span class="line">                u8arr[i] = bytes.charCodeAt(i);</span><br><span class="line">            &#125;</span><br><span class="line">            const file = await new File([u8arr], fileName, &#123; type: mime &#125;);</span><br><span class="line">            resolve(file);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//预先设定一个简略图或者加载图，当页面加载到时图片再切换src</span><br><span class="line"><span class="built_in">let</span> n = 0;</span><br><span class="line"><span class="built_in">let</span> num = document.getElementsByTagName(<span class="string">&#x27;img&#x27;</span>).length</span><br><span class="line"><span class="built_in">let</span> img = document.getElementsByTagName(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">lazyLoad()</span><br><span class="line">window.onscroll = lazyLoad</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">lazyLoad</span></span>() &#123;</span><br><span class="line">    <span class="built_in">let</span> seeHeight = document.documentElement.clientHeight;</span><br><span class="line">    <span class="built_in">let</span> scrollTop = document.documentElement.scrollTop || document.body.scrollTop;</span><br><span class="line">    console.log(seeHeight,scrollTop);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> i = n; i &lt; num; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (img[i].offsetTop &lt; seeHeight + scrollTop) &#123;</span><br><span class="line">            <span class="keyword">if</span> (img[i].getAttribute(<span class="string">&#x27;src&#x27;</span>) == <span class="string">&quot;../../assets/dw.jpg&quot;</span>) &#123;</span><br><span class="line">                img[i].src = img[i].getAttribute(<span class="string">&#x27;data_src&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            n = i + 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Day.js时间处理</title>
    <url>/2023/09/18/%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<p>Day.js 是一个轻量的处理时间和日期的 JavaScript 库</p>
<span id="more"></span>

<h3 id="安装Day-js"><a href="#安装Day-js" class="headerlink" title="安装Day.js"></a>安装Day.js</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install dayjs --save</span><br></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dayjs(<span class="string">&#x27;2018-08-08&#x27;</span>) // 解析</span><br><span class="line">dayjs().format(<span class="string">&#x27;&#123;YYYY&#125; MM-DDTHH:mm:ss SSS [Z] A&#x27;</span>) // 展示</span><br><span class="line">dayjs()</span><br><span class="line">  .<span class="built_in">set</span>(<span class="string">&#x27;month&#x27;</span>, 3)</span><br><span class="line">  .month() // 获取</span><br><span class="line">dayjs().add(1, <span class="string">&#x27;year&#x27;</span>) // 处理</span><br><span class="line">dayjs().isBefore(dayjs()) // 查询</span><br></pre></td></tr></table></figure>
<h3 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//背景图片</span><br><span class="line">width: 100vw;</span><br><span class="line">height: 100vh;</span><br><span class="line">background-image: url(<span class="string">&#x27;https://img.zcool.cn/community/038958357a84fc40000012e7edb94ad.png&#x27;</span>);</span><br><span class="line">background-position: center;</span><br><span class="line">background-size: cover;</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line">background-attachment: fixed;</span><br><span class="line"></span><br><span class="line">display: flex;</span><br><span class="line">align-items: center;</span><br><span class="line">justify-content: center;</span><br></pre></td></tr></table></figure>


]]></content>
  </entry>
  <entry>
    <title>每日一题</title>
    <url>/2023/09/18/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/</url>
    <content><![CDATA[<p>每天练习的笔记，prototype，Map 底层是怎么实现的，Promise 应用和原理，手写一个 promise，Vuex4 的底层原理，js 深拷贝，重置表单</p>
<span id="more"></span>

<h2 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var dom = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    &#125;;</span><br><span class="line">    dom.Show = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        alert(<span class="string">&quot;Show Message&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    dom.prototype.Display = <span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        alert(<span class="string">&quot;Property Message&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    dom.Display(); //error</span><br><span class="line">    dom.Show();</span><br><span class="line">    var d = new dom();</span><br><span class="line">    d.Display();</span><br><span class="line">    d.Show(); //error</span><br></pre></td></tr></table></figure>

<p>首先声明一个变量，将一个函数赋给他，因为在 Javascript 中每个函数都有一个 Portotype 属性，而对象没有。添加两个方法，分别直接添加和添加打破 Prototype 上面，来看下调用情况。分析结果如下：</p>
<p>1、不使用 prototype 属性定义的对象方法，是静态方法，只能直接用类名进行调用！另外，此静态方法中无法使用 this 变量来调用对象其他的属性！<br>2、使用 prototype 属性定义的对象方法，是非静态方法，只有在实例化后才能使用！其方法内部可以 this 来引用对象自身中的其他属性！</p>
<h2 id="一-Map-底层是怎么实现的"><a href="#一-Map-底层是怎么实现的" class="headerlink" title="一.Map 底层是怎么实现的"></a>一.Map 底层是怎么实现的</h2><h3 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//Map构造函数</span><br><span class="line">        <span class="built_in">let</span> map = new Map();</span><br><span class="line">        //key,value</span><br><span class="line">        map.set(1, <span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">        map.set(1, <span class="string">&#x27;b&#x27;</span>) //相同key覆盖，去除重复</span><br><span class="line">        map.set(2, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">        map.set(&#123; name: <span class="string">&#x27;Green&#x27;</span> &#125;, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line">        console.log(map);</span><br><span class="line">        console.log(map.get(2));  //获取value</span><br><span class="line">        console.log(map.has(2)); //判断有无</span><br><span class="line">        map.delete(1); //删除</span><br><span class="line">        //Map只在js中存在，不利于传输</span><br><span class="line">        //转换成数组</span><br><span class="line">        <span class="built_in">let</span> arr = Array.from(map)</span><br><span class="line">        //转换成对象</span><br><span class="line">        <span class="built_in">let</span> obj = Object.fromEntries(map);</span><br><span class="line">        //数组查找快  链表增删快 Map结合了数组和链表实现高性能增删改查</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var groupAnagrams = <span class="keyword">function</span>(strs) &#123;</span><br><span class="line">    const map = new Map();</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> str of strs) &#123;</span><br><span class="line">        <span class="built_in">let</span> array = Array.from(str);</span><br><span class="line">        array.sort();</span><br><span class="line">        <span class="built_in">let</span> key = array.toString();</span><br><span class="line">        <span class="built_in">let</span> list = map.get(key) ? map.get(key) : new Array();</span><br><span class="line">        list.push(str);</span><br><span class="line">        map.set(key, list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> Array.from(map.values());</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="哈希表实现"><a href="#哈希表实现" class="headerlink" title="哈希表实现"></a>哈希表实现</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> count = 8;</span><br><span class="line">        //   自定义map</span><br><span class="line">        <span class="keyword">function</span> <span class="function"><span class="title">MyMap</span></span>() &#123;</span><br><span class="line">            this.initStore();</span><br><span class="line">        &#125;</span><br><span class="line">        //   <span class="built_in">hash</span></span><br><span class="line">        MyMap.prototype.initStore = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">            this.store = new Array(count);</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; this.store.length; i++) &#123;</span><br><span class="line">                this.store[i] = &#123;</span><br><span class="line">                    next: null,</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        MyMap.prototype.hash = <span class="keyword">function</span> (k) &#123;</span><br><span class="line">            <span class="built_in">return</span> k % count;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        MyMap.prototype.set = <span class="keyword">function</span> (k, v) &#123;</span><br><span class="line">            // 通过key计算余数8,取得房间号</span><br><span class="line">            <span class="built_in">let</span> roomIndex = this.hash(k);</span><br><span class="line">            // 取出链表头</span><br><span class="line">            <span class="built_in">let</span> queue = this.store[roomIndex];</span><br><span class="line">            // 找元素</span><br><span class="line">            <span class="keyword">while</span> (queue.next) &#123;</span><br><span class="line">                // 不断的向下找</span><br><span class="line">                <span class="keyword">if</span> (queue.next.key === k) &#123;</span><br><span class="line">                    // 覆盖</span><br><span class="line">                    queue.next.value = v;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    // 下一个</span><br><span class="line">                    queue = queue.next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            // 第一次执行到这里就是第一个数据</span><br><span class="line">            // 第二次执行到这里就是末尾的一个</span><br><span class="line">            queue.next = &#123;</span><br><span class="line">                next: null,</span><br><span class="line">                key: k,</span><br><span class="line">                value: v,</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        MyMap.prototype.get = <span class="keyword">function</span> (k) &#123;</span><br><span class="line">            <span class="built_in">let</span> roomIndex = this.hash(k)</span><br><span class="line">            <span class="built_in">let</span> queue = this.store[roomIndex]</span><br><span class="line">            queue = queue.next</span><br><span class="line">            <span class="keyword">while</span> (queue) &#123;</span><br><span class="line">                <span class="keyword">if</span> (queue.key === k) &#123;</span><br><span class="line">                    <span class="built_in">return</span> queue.value</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    // 指针下移</span><br><span class="line">                    queue = queue.next</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> undefined//没有找到</span><br><span class="line">        &#125;;</span><br><span class="line">        MyMap.prototype.has = <span class="keyword">function</span> (k) &#123;</span><br><span class="line">            <span class="built_in">return</span> this.get(k) !== undefined</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">let</span> m = new MyMap();</span><br><span class="line">        //   调用MyMap</span><br><span class="line">        m.set(1, <span class="string">&quot;a&quot;</span>);</span><br><span class="line">        m.set(2, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">        m.set(3, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">        m.set(4, <span class="string">&quot;d&quot;</span>);</span><br><span class="line">        m.set(5, <span class="string">&quot;e&quot;</span>);</span><br><span class="line">        m.set(6, <span class="string">&quot;f&quot;</span>);</span><br><span class="line">        m.set(7, <span class="string">&quot;g&quot;</span>);</span><br><span class="line">        m.set(8, <span class="string">&quot;h&quot;</span>);</span><br><span class="line">        m.set(9, <span class="string">&quot;i&quot;</span>);</span><br><span class="line">        console.log(m, m.get(1), m.has(9));</span><br><span class="line">        console.log(m.get(2));</span><br><span class="line">        console.log(m.get(3));</span><br><span class="line">        console.log(m.get(4));</span><br><span class="line">        console.log(m.has(6));</span><br></pre></td></tr></table></figure>

<h2 id="二-Promise-应用和原理"><a href="#二-Promise-应用和原理" class="headerlink" title="二.Promise 应用和原理"></a>二.Promise 应用和原理</h2><h3 id="1-为什么会有-promise"><a href="#1-为什么会有-promise" class="headerlink" title="1.为什么会有 promise?"></a>1.为什么会有 promise?</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// run(0),run(1),run(2) 需要依次调用，并且需要前一次调用的数据时</span><br><span class="line"> new Promise(()=&gt;&#123;</span><br><span class="line">            run(<span class="number">0</span>)</span><br><span class="line">        &#125;).then(()=&gt;&#123;</span><br><span class="line">            run(<span class="number">1</span>)</span><br><span class="line">        &#125;).then(()=&gt;&#123;</span><br><span class="line">            run(<span class="number">2</span>)</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-什么时候用-promise"><a href="#2-什么时候用-promise" class="headerlink" title="2.什么时候用 promise?"></a>2.什么时候用 promise?</h3><p>做异步任务时</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> isForget = <span class="literal">true</span></span><br><span class="line"><span class="built_in">let</span> getLv = new Promise((resolve, reject) =&gt; &#123;  //resolve是成功时的reject失败时的</span><br><span class="line">    if (isForget) &#123;</span><br><span class="line">        let lv = &#123;</span><br><span class="line">            color: &#x27;orange&#x27;,</span><br><span class="line">            piece: &quot;<span class="variable">$223</span>&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        resolve(lv)</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        let err = new Error(&quot;忘了&quot;)</span><br><span class="line">        reject(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">let testFn = function()&#123;</span><br><span class="line">    //成功调用then，失败调用catch</span><br><span class="line">    getLv.then((fulfilled)=&gt;&#123;</span><br><span class="line">        console.log(fulfilled);</span><br><span class="line">    &#125;).catch((rejected)=&gt;&#123;</span><br><span class="line">        console.log(rejected);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">testFn()</span><br></pre></td></tr></table></figure>

<p>练习：<br>function sleep(){<br>&#x2F;&#x2F;写出代码<br>}<br>sleep(2000).then(()&#x3D;&gt;{<br>console.log(1)<br>})</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="built_in">sleep</span>(time)&#123;</span><br><span class="line">    <span class="built_in">return</span> new Promise((resolve,reject)=&gt;&#123;</span><br><span class="line">        setTimeout(()=&gt;&#123;</span><br><span class="line">            resolve()</span><br><span class="line">        &#125;,time)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">sleep(<span class="number">2000</span>).then(()=&gt;&#123;</span><br><span class="line">    console.log(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Promise.resolve().<span class="keyword">then</span>(()=&gt;&#123;</span><br><span class="line">    return new Error(&#x27;error!!!&#x27;)</span><br><span class="line">&#125;).then(res=&gt;&#123;</span><br><span class="line">    console.log(&quot;<span class="number">2</span>then:&quot;,res)</span><br><span class="line">&#125;).catch(err=&gt;&#123;</span><br><span class="line">    console.log(&quot;<span class="number">3</span>catch:&quot;,err)</span><br><span class="line">&#125;)</span><br><span class="line">//打印结果为 <span class="number">2</span>then: Error:error!!!,链式调用原理。为了保证链式调用正常进行，</span><br><span class="line">//上一个promise返回的结果都会传给下一个promise，作为它成功时候的回调。</span><br></pre></td></tr></table></figure>

<h3 id="3-手写一个-promise"><a href="#3-手写一个-promise" class="headerlink" title="3.手写一个 promise"></a>3.手写一个 promise</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> myPromise(excutor) &#123;</span><br><span class="line">    <span class="built_in">let</span> self = this</span><br><span class="line">    self.status = <span class="string">&#x27;pendding&#x27;</span>;</span><br><span class="line">    self.value = null;</span><br><span class="line">    self.reson = null;</span><br><span class="line"></span><br><span class="line">    self.onFulfilledCallbacks = []</span><br><span class="line">    self.onRejectedCallbacks = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> resolve(value) &#123;</span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&#x27;pendding&#x27;</span>) &#123;</span><br><span class="line">            self.value = value;</span><br><span class="line">            self.status = <span class="string">&#x27;fulfilled&#x27;</span></span><br><span class="line">            self.onFulfilledCallbacks.forEach(item =&gt; item(value));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> reject(reason) &#123;</span><br><span class="line">        <span class="keyword">if</span> (self.status === <span class="string">&#x27;pendding&#x27;</span>) &#123;</span><br><span class="line">            self.value = reason;</span><br><span class="line">            self.status = <span class="string">&#x27;rejected&#x27;</span></span><br><span class="line">            self.onRejectedCallbacks.forEach(item =&gt; item(reason));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line">        //execute方法是一个JavaScript语言中的预定义方法，它是一个全局函数，</span><br><span class="line">        //在任何地方都可以调用。它的作用是将JavaScript代码字符串作为参数，并执行该代码。</span><br><span class="line">        excutor(resolve, reject)</span><br><span class="line">    &#125; catch &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myPromise.prototype.then = <span class="keyword">function</span> (onFulfilled, onRejected) &#123;</span><br><span class="line">    console.log(<span class="string">&#x27;1111&#x27;</span>);</span><br><span class="line">    //容错处理</span><br><span class="line">    onFulfilled = typeof onFulfilled === <span class="string">&#x27;function&#x27;</span> ? onFulfilled : <span class="keyword">function</span> (data) &#123; resolve(data) &#125;</span><br><span class="line">    onRejected = typeof onRejected === <span class="string">&#x27;function&#x27;</span> ? onRejected : <span class="keyword">function</span> (err) &#123; throw err &#125;</span><br><span class="line"></span><br><span class="line">    //使promise支持异步</span><br><span class="line">    <span class="built_in">let</span> self = this;</span><br><span class="line">    <span class="keyword">if</span> (self.status === <span class="string">&#x27;pendding&#x27;</span>) &#123;</span><br><span class="line">        console.log(<span class="string">&#x27;2222&#x27;</span>);</span><br><span class="line">        self.onFulfilledCallbacks.push(onFulfilled)</span><br><span class="line">        self.onRejectedCallbacks.push(onRejected)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> demo = new myPromise((resolve, reject) =&gt; &#123;</span><br><span class="line">    // console.log(<span class="number">1</span>);</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        resolve(<span class="number">1</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">demo.then(data =&gt; console.log(data))</span><br></pre></td></tr></table></figure>

<h2 id="三-Vuex4-的底层原理"><a href="#三-Vuex4-的底层原理" class="headerlink" title="三.Vuex4 的底层原理"></a>三.Vuex4 的底层原理</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import &#123; inject, reactive &#125; from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">class Store &#123;</span><br><span class="line">    //在js中，constructor函数是类的构造函数。在创建类的新实例时，会自动调用constructor函数。constructor函数可以用来初始化类的实例对象。</span><br><span class="line">    constructor(options) &#123;</span><br><span class="line">        this.state = reactive(options.state)</span><br><span class="line">        //getters</span><br><span class="line">        <span class="built_in">let</span> getters = options.getters;</span><br><span class="line">        this.getters = &#123;&#125;</span><br><span class="line">        Object.keys(getters).forEach(item =&gt; &#123;</span><br><span class="line">            Object.defineProperty(this.getters, item, &#123;</span><br><span class="line">                get: () =&gt; &#123;</span><br><span class="line">                    <span class="built_in">return</span> getters[item](this.state)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        //mutations</span><br><span class="line">        <span class="built_in">let</span> mutations = options.mutations;</span><br><span class="line">        this.mutations = &#123;&#125;</span><br><span class="line">        Object.keys(mutations).forEach(item=&gt;&#123;</span><br><span class="line">            this.mutations[item]=(data)=&gt;&#123;</span><br><span class="line">                mutations[item](this.state,data)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    commit(key,value)&#123;</span><br><span class="line">        this.mutations[key](value)</span><br><span class="line">    &#125;</span><br><span class="line">    //app插件机制，当执行use，检查对象中是否有install，如果有，先去执行。</span><br><span class="line">    install(app) &#123;</span><br><span class="line">        app.config.globalProperties.<span class="variable">$store</span> = this;</span><br><span class="line">        app.provide(<span class="string">&#x27;store&#x27;</span>, this)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> createStore(options) &#123;</span><br><span class="line">    <span class="built_in">return</span> new Store(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> <span class="function"><span class="title">useStore</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> inject(<span class="string">&#x27;store&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="四-js-深拷贝"><a href="#四-js-深拷贝" class="headerlink" title="四.js 深拷贝"></a>四.js 深拷贝</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> cloned = JSON.parse(JSON.stringify(obj1));</span><br><span class="line">//只可以实现基于基础的JSON的数据转换，其他的如Reg,<span class="keyword">function</span>,Set,Map不可以转换</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//开发中还可以使用第三方库lodash,under-score</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//使用slice()方法返回一个子数组，在进行reverse； 不会改变原数组</span><br><span class="line">time1 = time.slice().reverse()  //time1数组反转  time数组不变</span><br></pre></td></tr></table></figure>

<h2 id="五-重置表单"><a href="#五-重置表单" class="headerlink" title="五.重置表单"></a>五.重置表单</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//重置表单，不依赖任何写死的属性</span><br><span class="line">Object.assign(this.<span class="variable">$data</span>,this.<span class="variable">$option</span>.data()) //vue2</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//vue3</span><br><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;Form ref=<span class="string">&quot;formValidateRef&quot;</span> :model=<span class="string">&quot;formValidate&quot;</span> :rules=<span class="string">&quot;ruleValidate&quot;</span> :label-width=<span class="string">&quot;80&quot;</span>&gt;&lt;/Form&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">	import &#123; reactive &#125; from <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line">	// 初始化数据</span><br><span class="line">	const initFormValldate = () =&gt; (&#123;</span><br><span class="line">		xxxa:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">		xxxb:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">	&#125;)</span><br><span class="line">	// 表单赋值</span><br><span class="line">	const formValidate = reactive(initFormValidate());</span><br><span class="line">	// 清除表单数据</span><br><span class="line">	Object.asslgn(formValidate, initFormValidate()):</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>js输入框自动换行</title>
    <url>/2023/09/18/%E8%BE%93%E5%85%A5%E6%A1%86%E8%87%AA%E5%8A%A8%E6%8D%A2%E8%A1%8C/</url>
    <content><![CDATA[<p>通过js,使textarea实现自动换行功能。</p>
<span id="more"></span>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//输入框自动换行功能 传入输入框的元素</span><br><span class="line">var autoTextarea = <span class="keyword">function</span> (elem: any) &#123;</span><br><span class="line">    var isFirefox =</span><br><span class="line">        !!document.getBoxObjectFor || <span class="string">&quot;mozInnerScreenX&quot;</span> <span class="keyword">in</span> window,</span><br><span class="line">        isOpera =</span><br><span class="line">            !!window.opera &amp;&amp; !!window.opera.toString().indexOf(<span class="string">&quot;Opera&quot;</span>),</span><br><span class="line">        addEvent = <span class="keyword">function</span> (<span class="built_in">type</span>: any, callback: any) &#123;</span><br><span class="line">            elem.addEventListener ? elem.addEventListener(<span class="built_in">type</span>, callback, <span class="literal">false</span>) : elem.attachEvent(<span class="string">&quot;on&quot;</span> + <span class="built_in">type</span>, callback);</span><br><span class="line">        &#125;,</span><br><span class="line">        getStyle = elem.currentStyle</span><br><span class="line">            ? <span class="keyword">function</span> (name: any): any &#123;</span><br><span class="line">                var val = elem.currentStyle[name];</span><br><span class="line">                <span class="keyword">if</span> (name === <span class="string">&quot;height&quot;</span> &amp;&amp; val.search(/px/i) !== 1) &#123;</span><br><span class="line">                    var rect = elem.getBoundingClientRect();</span><br><span class="line">                    <span class="built_in">return</span> (</span><br><span class="line">                        rect.bottom -</span><br><span class="line">                        rect.top -</span><br><span class="line">                        parseFloat(getStyle(<span class="string">&quot;paddingTop&quot;</span>)) -</span><br><span class="line">                        parseFloat(getStyle(<span class="string">&quot;paddingBottom&quot;</span>)) +</span><br><span class="line">                        <span class="string">&quot;px&quot;</span></span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">return</span> val;</span><br><span class="line">            &#125;</span><br><span class="line">            : <span class="keyword">function</span> (name: any) &#123;</span><br><span class="line">                <span class="built_in">return</span> getComputedStyle(elem, null)[name];</span><br><span class="line">            &#125;,</span><br><span class="line">        minHeight = parseFloat(getStyle(<span class="string">&quot;height&quot;</span>));</span><br><span class="line">    elem.style.resize = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    var change = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        var scrollTop,</span><br><span class="line">            height,</span><br><span class="line">            padding = 0,</span><br><span class="line">            style = elem.style;</span><br><span class="line">        <span class="keyword">if</span> (elem._length === elem.value.length) <span class="built_in">return</span>;</span><br><span class="line">        elem._length = elem.value.length;</span><br><span class="line">        <span class="keyword">if</span> (!isFirefox &amp;&amp; !isOpera) &#123;</span><br><span class="line">            padding = parseInt(getStyle(<span class="string">&quot;paddingTop&quot;</span>)) + parseInt(getStyle(<span class="string">&quot;paddingBottom&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        scrollTop = document.body.scrollTop || document.documentElement.scrollTop;</span><br><span class="line">        elem.style.height = minHeight + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (elem.scrollHeight &gt; minHeight) &#123;</span><br><span class="line">            height = elem.scrollHeight - padding;</span><br><span class="line">            style.overflowY = <span class="string">&quot;hidden&quot;</span>;</span><br><span class="line">            style.height = height + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">            scrollTop += parseInt(style.height) - elem.currHeight;</span><br><span class="line">            document.body.scrollTop = scrollTop;</span><br><span class="line">            document.documentElement.scrollTop = scrollTop;</span><br><span class="line">            elem.currHeight = parseInt(style.height);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    addEvent(<span class="string">&quot;propertychange&quot;</span>, change);</span><br><span class="line">    addEvent(<span class="string">&quot;input&quot;</span>, change);</span><br><span class="line">    addEvent(<span class="string">&quot;focus&quot;</span>, change);</span><br><span class="line">    change();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var text: any = document.getElementsByClassName(<span class="string">&quot;textarea1&quot;</span>)[0];</span><br><span class="line">    autoTextarea(text[i]);</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">textarea &#123;</span><br><span class="line">    line-height: 32px;</span><br><span class="line">    font-size: 13px;</span><br><span class="line">    height: 32px;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">    background-color: rgba(226, 177, 244, 0.5);</span><br><span class="line">    outline: 0 none;</span><br><span class="line">    max-height: 300px;</span><br><span class="line">    width: 96%;</span><br><span class="line">    border: 1px solid <span class="comment">#ccc;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>零散</title>
    <url>/2023/09/25/%E9%9B%B6%E6%95%A3/</url>
    <content><![CDATA[<p>filter,数组去重，防抖节流封装，函数柯里化，js 函数缓存</p>
<span id="more"></span>

<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> a = [1, 2, 3, 14, 15]</span><br><span class="line">//current=&gt;当前值，index=&gt;当前值的下标，array=&gt;这个数组对象</span><br><span class="line"><span class="built_in">let</span> b = a.filter((current, index, array) =&gt; &#123;</span><br><span class="line">    return current &lt; <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line">console.log(b,a);</span><br></pre></td></tr></table></figure>

<h3 id="去重"><a href="#去重" class="headerlink" title="去重"></a>去重</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [12,23,45,32,12,55]</span><br><span class="line">//Set结构不会添加重复的值</span><br><span class="line">//Set实例转数组</span><br><span class="line"><span class="built_in">let</span> item = [...new Set(arr)]  //ES6写法</span><br><span class="line">Array.from(new Set(arr))</span><br></pre></td></tr></table></figure>

<h3 id="防抖节流封装"><a href="#防抖节流封装" class="headerlink" title="防抖节流封装"></a>防抖节流封装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//防抖   一直提交，直到最后一次停留<span class="built_in">wait</span>秒才发起请求</span><br><span class="line"><span class="keyword">function</span> antiShake(fn,<span class="built_in">wait</span>) &#123;</span><br><span class="line">    <span class="built_in">let</span> timeOut = null</span><br><span class="line">    <span class="built_in">return</span> args =&gt;&#123;</span><br><span class="line">        <span class="keyword">if</span>(timeOut) clearTimeout(timeOut)</span><br><span class="line">        timeOut = setTimeout(fn,<span class="built_in">wait</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//节流   一直提交，每隔time秒执行一次。还可以通过时间戳执行</span><br><span class="line"><span class="keyword">function</span> throttle(event,time) &#123;</span><br><span class="line">    <span class="built_in">let</span> timer = null</span><br><span class="line">    <span class="built_in">return</span> <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        <span class="keyword">if</span>(!timer)&#123;</span><br><span class="line">            timer = setTimeout(() =&gt; &#123;</span><br><span class="line">                event()</span><br><span class="line">                timer = null</span><br><span class="line">            &#125;, time);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="js-函数柯里化"><a href="#js-函数柯里化" class="headerlink" title="js 函数柯里化"></a>js 函数柯里化</h3><p>函数柯里化（Currying）是一种将多个参数的函数转变为接收单一参数的函数序列的过程。通过柯里化，我们可以将多个参数的函数转化为接收一个参数的函数，然后再返回一个新函数，该函数可以继续接收下一个参数，以此类推，直到满足所有参数的条件，最后返回期望的结果。<br>函数柯里化的作用有以下几个方面： 1.参数复用：柯里化允许我们创建可以重复使用的小函数。通过将一个多参数函数转化为接收单一参数的函数，我们可以使用部分应用函数来创建新的函数，并将其应用于具有不同参数的不同上下文中。 2.延迟执行：柯里化也可以用于延迟执行函数。通过转化为接收单一参数的函数序列，我们可以先传递一部分参数，然后在后续需要的时候再传递剩余的参数来执行函数，从而实现函数的延迟执行。 3.函数组合：柯里化可以与函数组合配合使用，实现更复杂的函数操作。通过将多个柯里化函数组合起来，可以实现更高阶的函数组合，从而简化代码并增加代码的可读性。 4.提高函数可测试性：通过柯里化，我们可以将函数的逻辑拆分成多个步骤，并将每个步骤的输入和输出明确化，从而方便进行单元测试。我们可以对每个柯里化函数进行独立测试，而无需考虑其他参数的影响。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">//普通写法</span><br><span class="line"><span class="keyword">function</span> add(a,b,c)&#123;</span><br><span class="line">    <span class="built_in">return</span> a+b+c</span><br><span class="line">&#125;</span><br><span class="line">console.log(add(10,20,30))</span><br><span class="line"></span><br><span class="line">//柯里化</span><br><span class="line"><span class="keyword">function</span> sum1(a)&#123;</span><br><span class="line">    <span class="built_in">return</span> <span class="keyword">function</span>(b)&#123;</span><br><span class="line">        <span class="built_in">return</span> <span class="keyword">function</span>(c)&#123;</span><br><span class="line">            <span class="built_in">return</span> a+b+c</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//简化后</span><br><span class="line">var sum2 = a=&gt;b=&gt;c=&gt;&#123;</span><br><span class="line">    <span class="built_in">return</span> a+b+c &#125;</span><br><span class="line">var sum2 = a=&gt;b=&gt;c=&gt;a+b+c</span><br><span class="line">console.log(sum2(10)(20)(30))</span><br></pre></td></tr></table></figure>

<p>例题 1：<br>&#x2F;&#x2F;实现 add(1)(4)(3)(…)(n)<br><a href="https://blog.csdn.net/double_sweet1/article/details/122786636">详细</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">add</span></span>() &#123;</span><br><span class="line">    <span class="built_in">let</span> args = [...arguments];</span><br><span class="line">    <span class="built_in">let</span> inner = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        args = [...args, ...arguments];</span><br><span class="line">        <span class="built_in">return</span> inner;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //inner本身就是一个函数，因此最后的输出结果就是一个函数，控制台输出的函数是被转换为string类型的字符串了的，转换为string是因为调用了toString方法,所以要改写一下toString方法。</span><br><span class="line">    inner.toString = <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        <span class="built_in">return</span> args.reduce((a, b) =&gt; a + b);</span><br><span class="line">    &#125;</span><br><span class="line">    return inner;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(parseInt(add(<span class="number">1</span>)(<span class="number">3</span>)(<span class="number">4</span>)(<span class="number">5</span>)));</span><br></pre></td></tr></table></figure>



<h3 id="js-函数缓存"><a href="#js-函数缓存" class="headerlink" title="js 函数缓存"></a>js 函数缓存</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// 传统函数写法</span><br><span class="line"><span class="keyword">function</span> add(a, b) &#123;</span><br><span class="line">  <span class="built_in">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line">// 箭头函数写法</span><br><span class="line">const add = (a, b) =&gt; a + b;</span><br><span class="line"></span><br><span class="line">//箭头函数可以使用剩余参数（rest parameter）的语法，用来表示一个不定长度的参数列表，剩余参数会被收集到一个数组中。例如：</span><br><span class="line">const printArgs = (a, ...restArgs) =&gt; &#123;</span><br><span class="line">  console.log(a); // 输出第一个参数</span><br><span class="line">  console.log(restArgs); // 输出剩余参数的数组</span><br><span class="line">&#125;</span><br><span class="line">printArgs(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>); // 输出 <span class="string">&#x27;foo&#x27;</span> 和 [<span class="string">&#x27;bar&#x27;</span>, <span class="string">&#x27;baz&#x27;</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">const memoize = (func, content) =&gt; &#123;</span><br><span class="line">    //在当前函数作用域定义一个空对象，用于缓存函数的运行结果</span><br><span class="line">    <span class="built_in">let</span> cache = Object.create(null);</span><br><span class="line">    content = content || null;</span><br><span class="line">    //运用柯里化返回一个函数</span><br><span class="line">    <span class="built_in">return</span> (...args) =&gt; &#123;</span><br><span class="line">        console.log(<span class="string">&#x27;concent&#x27;</span>, content);</span><br><span class="line">        console.log(<span class="string">&quot;cache&quot;</span>,cache);</span><br><span class="line">        <span class="keyword">if</span> (!cache[args]) &#123;</span><br><span class="line">            console.log(<span class="string">&#x27;调用了:&#x27;</span> , args);</span><br><span class="line">            //call()和apply()：这两个方法允许你在指定的上下文中调用函数，并传递参数。</span><br><span class="line">            //它们的区别在于传递参数的方式不同。call()方法使用逗号分隔的参数列表，而apply()方法使用一个数组作为参数。</span><br><span class="line">            cache[args] = func.call(content, ...args);</span><br><span class="line">            // cache[args] = func.apply(content, args);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> cache[args];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">const add = (a, b) =&gt; a + b</span><br><span class="line">const memoizeAdd = memoize(add);</span><br><span class="line">console.log(memoizeAdd(1,3));</span><br><span class="line">console.log(memoizeAdd(1,3));</span><br><span class="line">console.log(memoizeAdd(3,3));</span><br><span class="line">console.log(memoizeAdd(1,3));</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
</search>
